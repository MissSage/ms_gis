var m=Object.defineProperty,b=Object.defineProperties;var j=Object.getOwnPropertyDescriptors;var o=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable;var l=(r,e,a)=>e in r?m(r,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[e]=a,u=(r,e)=>{for(var a in e||(e={}))w.call(e,a)&&l(r,a,e[a]);if(o)for(var a of o(e))d.call(e,a)&&l(r,a,e[a]);return r},c=(r,e)=>b(r,j(e));import{U as v}from"./vendor.f59460b9.js";async function O(r,e){var t,y,i;let a=await p(r,e);a=a||{},a.layers=((t=a.layers)==null?void 0:t.filter(f))||[];const s={serviceJSON:a};if(((y=a.currentVersion)!=null?y:0)<10.5)return s;const n=await p(r+"/layers",e);return s.layersJSON={layers:((i=n==null?void 0:n.layers)==null?void 0:i.filter(f))||[],tables:(n==null?void 0:n.tables)||[]},s}function f(r){return!r.type||r.type==="Feature Layer"}async function p(r,e){return(await v(r,{responseType:"json",query:c(u({f:"json"},e==null?void 0:e.customParameters),{token:e==null?void 0:e.apiKey})})).data}export{p as a,O as r};
