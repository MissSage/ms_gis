var p=Object.defineProperty,y=Object.defineProperties;var g=Object.getOwnPropertyDescriptors;var d=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var m=(t,e,r)=>e in t?p(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,u=(t,e)=>{for(var r in e||(e={}))v.call(e,r)&&m(t,r,e[r]);if(d)for(var r of d(e))w.call(e,r)&&m(t,r,e[r]);return t},i=(t,e)=>y(t,g(e));import{$ as h,S as l,a3 as G,dH as M,dI as P,dJ as $,dK as D}from"./vendor.faf54504.js";function j(t,e,r,n,a){if(h(t))return null;const s=t.referencesGeometry()&&a?F(e,n,a):e,o=t.repurposeFeature(s);try{return t.evaluate(i(u({},r),{$feature:o}))}catch(f){return l.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",f),null}}const c=new Map;function F(t,e,r){const{transform:n,hasZ:a,hasM:s}=r;c.has(e)||c.set(e,L(e));const o=c.get(e)(t.geometry,n,a,s);return i(u({},t),{geometry:o})}function L(t){const e={};switch(t){case"esriGeometryPoint":return(r,n,a,s)=>D(n,e,r,a,s);case"esriGeometryPolygon":return(r,n,a,s)=>$(n,e,r,a,s);case"esriGeometryPolyline":return(r,n,a,s)=>P(n,e,r,a,s);case"esriGeometryMultipoint":return(r,n,a,s)=>M(n,e,r,a,s);default:return l.getLogger("esri.views.2d.support.arcadeOnDemand").error(new G("mapview-arcade",`Unable to handle geometryType: ${t}`)),r=>r}}export{j as i};
