var m=Object.defineProperty,j=Object.defineProperties;var w=Object.getOwnPropertyDescriptors;var o=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable;var l=(r,e,a)=>e in r?m(r,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[e]=a,u=(r,e)=>{for(var a in e||(e={}))b.call(e,a)&&l(r,a,e[a]);if(o)for(var a of o(e))d.call(e,a)&&l(r,a,e[a]);return r},c=(r,e)=>j(r,w(e));import{a7 as v}from"./vendor.faf54504.js";async function O(r,e){var t,y,i;let a=await p(r,e);a=a||{},a.layers=((t=a.layers)==null?void 0:t.filter(f))||[];const n={serviceJSON:a};if(((y=a.currentVersion)!=null?y:0)<10.5)return n;const s=await p(r+"/layers",e);return n.layersJSON={layers:((i=s==null?void 0:s.layers)==null?void 0:i.filter(f))||[],tables:(s==null?void 0:s.tables)||[]},n}function f(r){return!r.type||r.type==="Feature Layer"}async function p(r,e){return(await v(r,{responseType:"json",query:c(u({f:"json"},e==null?void 0:e.customParameters),{token:e==null?void 0:e.apiKey})})).data}export{p as a,O as r};
