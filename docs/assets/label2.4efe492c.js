import{mg as E,mh as C}from"./vendor.ad8aa1ba.js";/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.0-beta.97
 */const L="calciteInternalLabelClick",o="calciteInternalLabelConnected",b="calciteInternaLabelDisconnected",v="calcite-label",c=new WeakMap,d=new WeakMap,r=new WeakMap,i=new Set,f=e=>{const{id:t}=e,n=t&&E(e,{selector:`${v}[for="${t}"]`});if(n)return n;const l=C(e,v);return!l||h(l,e)?null:l};function h(e,t){let n;const l="custom-element-ancestor-check",u=a=>{a.stopImmediatePropagation();const s=a.composedPath();n=s.slice(s.indexOf(t),s.indexOf(e))};return e.addEventListener(l,u,{once:!0}),t.dispatchEvent(new CustomEvent(l,{composed:!0,bubbles:!0})),e.removeEventListener(l,u),n.filter(a=>a!==t&&a!==e).filter(a=>{var s;return(s=a.tagName)===null||s===void 0?void 0:s.includes("-")}).length>0}function m(e){const t=f(e.el);if(c.has(t)||!t&&i.has(e))return;const n=w.bind(e);if(t){e.labelEl=t;const l=g.bind(e);c.set(e.labelEl,l),e.labelEl.addEventListener(L,l),i.delete(e),document.removeEventListener(o,d.get(e)),r.set(e,n),document.addEventListener(b,n)}else i.has(e)||(n(),document.removeEventListener(b,r.get(e)))}function x(e){if(i.delete(e),document.removeEventListener(o,d.get(e)),document.removeEventListener(b,r.get(e)),d.delete(e),r.delete(e),!e.labelEl)return;const t=c.get(e.labelEl);e.labelEl.removeEventListener(L,t),c.delete(e.labelEl)}function D(e){var t,n;return e.label||((n=(t=e.labelEl)===null||t===void 0?void 0:t.textContent)===null||n===void 0?void 0:n.trim())||""}function g(e){this.disabled||this.el.contains(e.detail.sourceEvent.target)||this.onLabelClick(e)}function k(){i.has(this)&&m(this)}function w(){i.add(this);const e=d.get(this)||k.bind(this);d.set(this,e),document.addEventListener(o,e)}export{b as a,m as c,x as d,D as g,o as l};
