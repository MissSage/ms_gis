var m=Object.defineProperty,b=Object.defineProperties;var d=Object.getOwnPropertyDescriptors;var o=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var l=(a,e,r)=>e in a?m(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r,u=(a,e)=>{for(var r in e||(e={}))j.call(e,r)&&l(a,r,e[r]);if(o)for(var r of o(e))w.call(e,r)&&l(a,r,e[r]);return a},c=(a,e)=>b(a,d(e));import{a1 as v}from"./vendor.ad8aa1ba.js";async function O(a,e){var t,y,i;let r=await p(a,e);r=r||{},r.layers=((t=r.layers)==null?void 0:t.filter(f))||[];const n={serviceJSON:r};if(((y=r.currentVersion)!=null?y:0)<10.5)return n;const s=await p(a+"/layers",e);return n.layersJSON={layers:((i=s==null?void 0:s.layers)==null?void 0:i.filter(f))||[],tables:(s==null?void 0:s.tables)||[]},n}function f(a){return!a.type||a.type==="Feature Layer"}async function p(a,e){return(await v(a,{responseType:"json",query:c(u({f:"json"},e==null?void 0:e.customParameters),{token:e==null?void 0:e.apiKey})})).data}export{p as a,O as r};
